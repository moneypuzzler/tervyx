# Manual Catalog Workflow

The manual catalog pipeline supplements the legacy scaling CLI by allowing operators to
work directly from the curated `catalog/entry_catalog.csv` file while keeping the automated
generator intact for teams that still depend on it.

## CLI entry point

Use `scripts/tervyx_catalog_cli.py` for catalog-driven automation. The command mirrors the
original `tervyx_scale` interface but reads from the manual catalog loader
(`catalog/manual_catalog.py`) and writes versioned entry directories that comply with the
TEL-5 schemas.

```bash
python -m scripts.tervyx_catalog_cli catalog generate --entry-id SLP-MAG-CORE \
  --limit 1 --dry-run
```

The new CLI keeps feature parity with the previous patch: manifest scaffolds, versioned
directories, audit-hash calculation, and registry pointer updates are still available via
flags, but they live in a standalone module so that changes no longer collide with
`scripts/tervyx_scale.py` during merges.

## Catalog utilities

`catalog/manual_catalog.py` exposes `ManualEntryCatalog` with the same query, search, and
status update helpers that we introduced earlier. Because it is independent from
`catalog/entry_catalog.py`, downstream tooling can opt into the manual flow without
breaking the autogenerated catalog scripts that other branches expect.

```python
from catalog.manual_catalog import ManualEntryCatalog
catalog = ManualEntryCatalog()
next_batch = catalog.get_next_batch(batch_size=5, category="sleep")
```

Status updates continue to append timezone-aware timestamps and preserve operator notes.

## Versioned outputs

The CLI delegates version management to `system.versioning.EntryVersionManager`. Every
call to `catalog generate` writes manifests, citation scaffolds, simulation shells, and a
`latest` pointer that mirrors the layout discussed during review. Operators can still pass
`--algo-version`, `--data-freeze`, and provenance flags to embed fingerprints into the
resulting manifests.

## Why this structure?

Keeping the manual flow in dedicated modules resolves merge conflicts with `main` by
restoring the original files while retaining the new capabilities. Teams that rely on the
legacy automation can continue without interruption, and catalog operators have an
explicit entry point for the manual, versioned workflow.
